{"ast":null,"code":"var _jsxFileName = \"/home/henok/Fullstack/client/src/components/SignIn/SignIn.js\";\nimport React, { Component } from \"react\";\nimport { form, input, Fa } from \"mdbreact\";\nimport \"./signIn.css\";\nimport { Link } from \"react-router-dom\";\n\nclass SignIn extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleEmailChange = e => {\n      const email = e.target.value;\n      this.setState({\n        signInEmail: email\n      });\n    };\n\n    this.handlePasswordChange = e => {\n      const password = e.target.value;\n      this.setState({\n        signInPassword: password\n      });\n    };\n\n    this.handleSubmit = () => {\n      if (this.state.signInEmail.length > 0 && this.state.signInPassword.length > 0) {\n        fetch(\"http://localhost:3000/signin\", {\n          method: \"post\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            email: this.state.signInEmail,\n            password: this.state.signInPassword\n          })\n        }).then(res => res.json()).then(data => {\n          if (data === \"wrong credentials\") {\n            this.setState({\n              errorMessage: \"You have enterd wrong email or password\"\n            });\n          } else if (data.user.email.length > 0) {\n            this.props.grantAccess(data.token);\n            this.props.historyPush(data.user);\n          } else this.setState({\n            errorMessage: \"You have enterd wrong email or password\"\n          });\n        });\n        this.setState({\n          errorMessage: \"\"\n        });\n      } else this.setState({\n        errorMessage: \"You have to fill the form!!\"\n      });\n    };\n\n    this.state = {\n      signInEmail: \"\",\n      signInPassword: \"\",\n      errorMessage: \"\"\n    };\n  }\n\n  componentDidMount() {\n    localStorage.removeItem(\"token\");\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center align-items-center main-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center p-2 form-container shadow-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"sign-in\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 6\n      }\n    }, \"Sign in\"), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 6\n      }\n    }, \" \", this.state.errorMessage, \" \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      id: \"defaultLoginFormEmail\",\n      className: \"form-control mb-4\",\n      placeholder: \"E-mail\",\n      onChange: this.handleEmailChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      id: \"defaultLoginFormPassword\",\n      className: \"form-control mb-4\",\n      placeholder: \"Password\",\n      onChange: this.handlePasswordChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-around\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-control custom-checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      className: \"custom-control-input\",\n      id: \"defaultLoginFormRemember\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"custom-control-label\",\n      htmlFor: \"defaultLoginFormRemember\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }, \"Remember me\"))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 8\n      }\n    }, \"Forgot password?\"))), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-info btn-block my-4 signIn-btn\",\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 6\n      }\n    }, \"Sign in\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 6\n      }\n    }, \"Not a member?\", /*#__PURE__*/React.createElement(Link, {\n      to: \"/Register\",\n      className: \"register-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 7\n      }\n    }, \"Register\"))));\n  }\n\n}\n\nexport default SignIn;","map":{"version":3,"sources":["/home/henok/Fullstack/client/src/components/SignIn/SignIn.js"],"names":["React","Component","form","input","Fa","Link","SignIn","constructor","props","handleEmailChange","e","email","target","value","setState","signInEmail","handlePasswordChange","password","signInPassword","handleSubmit","state","length","fetch","method","headers","body","JSON","stringify","then","res","json","data","errorMessage","user","grantAccess","token","historyPush","componentDidMount","localStorage","removeItem","render","color"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { form, input, Fa } from \"mdbreact\";\nimport \"./signIn.css\";\nimport { Link } from \"react-router-dom\";\n\nclass SignIn extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsignInEmail: \"\",\n\t\t\tsignInPassword: \"\",\n\t\t\terrorMessage: \"\"\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tlocalStorage.removeItem(\"token\");\n\t}\n\n\thandleEmailChange = e => {\n\t\tconst email = e.target.value;\n\t\tthis.setState({ signInEmail: email });\n\t};\n\n\thandlePasswordChange = e => {\n\t\tconst password = e.target.value;\n\t\tthis.setState({ signInPassword: password });\n\t};\n\n\thandleSubmit = () => {\n\t\tif (\n\t\t\tthis.state.signInEmail.length > 0 &&\n\t\t\tthis.state.signInPassword.length > 0\n\t\t) {\n\t\t\tfetch(\"http://localhost:3000/signin\", {\n\t\t\t\tmethod: \"post\",\n\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\temail: this.state.signInEmail,\n\t\t\t\t\tpassword: this.state.signInPassword\n\t\t\t\t})\n\t\t\t})\n\t\t\t\t.then(res => res.json())\n\t\t\t\t.then(data => {\n\t\t\t\t\tif (data === \"wrong credentials\") {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\terrorMessage:\n\t\t\t\t\t\t\t\t\"You have enterd wrong email or password\"\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (data.user.email.length > 0) {\n\t\t\t\t\t\tthis.props.grantAccess(data.token);\n\t\t\t\t\t\tthis.props.historyPush(data.user);\n\t\t\t\t\t} else\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\terrorMessage:\n\t\t\t\t\t\t\t\t\"You have enterd wrong email or password\"\n\t\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\tthis.setState({ errorMessage: \"\" });\n\t\t} else this.setState({ errorMessage: \"You have to fill the form!!\" });\n\t};\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"d-flex justify-content-center align-items-center main-container\">\n\t\t\t\t<div className=\"text-center p-2 form-container shadow-4\">\n\t\t\t\t\t<h4 className=\"sign-in\">Sign in</h4>\n\t\t\t\t\t<p style={{ color: \"red\" }}> {this.state.errorMessage} </p>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tid=\"defaultLoginFormEmail\"\n\t\t\t\t\t\tclassName=\"form-control mb-4\"\n\t\t\t\t\t\tplaceholder=\"E-mail\"\n\t\t\t\t\t\tonChange={this.handleEmailChange}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tid=\"defaultLoginFormPassword\"\n\t\t\t\t\t\tclassName=\"form-control mb-4\"\n\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\tonChange={this.handlePasswordChange}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<div className=\"d-flex justify-content-around\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"custom-control custom-checkbox\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tclassName=\"custom-control-input\"\n\t\t\t\t\t\t\t\t\tid=\"defaultLoginFormRemember\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\tclassName=\"custom-control-label\"\n\t\t\t\t\t\t\t\t\thtmlFor=\"defaultLoginFormRemember\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tRemember me\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<a href=\"\">Forgot password?</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-info btn-block my-4 signIn-btn\"\n\t\t\t\t\t\tonClick={this.handleSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\tSign in\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<p>\n\t\t\t\t\t\tNot a member?\n\t\t\t\t\t\t<Link to=\"/Register\" className=\"register-link\">\n\t\t\t\t\t\t\tRegister\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SignIn;\n"]},"metadata":{},"sourceType":"module"}